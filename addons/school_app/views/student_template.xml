<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="student_template">
        <t t-call="website.layout">
            <div class="container mt-5">
                <div class="row mb-3">
                    <div class="col-md-6">
                        <h3>Student Table</h3>
                    </div>
                    <div class="col-md-6 text-end">
                        <!-- Form for server-side search -->
                        <form method="get" action="/students">
                            <div class="input-group">
                                <input type="text" name="search" class="form-control" placeholder="Search student..." t-att-value="request.params.get('search', '')"/>
                                <button type="submit" class="btn btn-primary">Search</button>
                                <a href="/students" class="btn btn-secondary">Clear</a>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Display search results info -->
                <t t-if="request.params.get('search')">
                    <div class="alert alert-info">
                        Showing results for: <strong t-esc="request.params.get('search')"></strong>
                        <span t-if="not student_record" class="ms-2">No matching students found.</span>
                    </div>
                </t>

                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Class</th>
                            <th>Admission Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="student_record" t-as="record">
                            <tr>
                                <td t-esc="record.name"></td>
                                <td t-esc="record.class_name"></td>
                                <td t-esc="record.admission_date"></td>
                            </tr>
                        </t>
                        <t t-if="not student_record">
                            <tr>
                                <td colspan="3" class="text-center text-muted py-4">
                                    No student records found.
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>

<!--            <style>-->
            <!--                .input-group {-->
            <!--                    max-width: 400px;-->
            <!--                    margin-left: auto;-->
            <!--                }-->

            <!--                .input-group .btn {-->
            <!--                    border-radius: 0 4px 4px 0;-->
            <!--                }-->

            <!--                .input-group .btn-secondary {-->
            <!--                    margin-left: 5px;-->
            <!--                    border-radius: 4px;-->
            <!--                }-->
            <!--            </style>-->
        </t>
    </template>
</odoo>